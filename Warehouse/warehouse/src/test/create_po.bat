@echo off
set TOKEN=eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJoZkI1aVl5OEpWb2dfQ3UwdkVFZHFUal94V3p3M29pVUhoV1cxU0pvUDVVIn0.eyJleHAiOjE3MzA2OTE3MjYsImlhdCI6MTczMDY3NzMyNiwianRpIjoiMDdkZjNjODUtNTEyZS00MGE1LTljYzEtM2U5Y2I5YzgwYjE0IiwiaXNzIjoiaHR0cDovL2xvY2FsaG9zdDo4MTgwL3JlYWxtcy9XYXJlaG91c2UiLCJhdWQiOiJhY2NvdW50Iiwic3ViIjoiZTkwZGQzNDItOTQ5ZS00MjIxLTg5NjUtOTJlNDdkNzU1NTFlIiwidHlwIjoiQmVhcmVyIiwiYXpwIjoid2FyZWhvdXNlIiwic2lkIjoiMDk1YzU2OGItMzU2OS00ODMzLWJjM2QtZTI2M2Y1M2YxMzUxIiwiYWNyIjoiMSIsImFsbG93ZWQtb3JpZ2lucyI6WyIqIl0sInJlYWxtX2FjY2VzcyI6eyJyb2xlcyI6WyJtYW5hZ2VyIiwib2ZmbGluZV9hY2Nlc3MiLCJkZWZhdWx0LXJvbGVzLXdhcmVob3VzZSIsInVtYV9hdXRob3JpemF0aW9uIl19LCJyZXNvdXJjZV9hY2Nlc3MiOnsiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIiwidmlldy1wcm9maWxlIl19fSwic2NvcGUiOiJvcGVuaWQgZW1haWwgcHJvZmlsZSIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwibmFtZSI6Im1hbmFnZXIgbWFuYWdlciIsInByZWZlcnJlZF91c2VybmFtZSI6Im1hbmFnZXIiLCJnaXZlbl9uYW1lIjoibWFuYWdlciIsImZhbWlseV9uYW1lIjoibWFuYWdlciIsImVtYWlsIjoibWFuYWdlckBrZGcuYmUifQ.o1EZ-X2ghhSh559gRhPbY9tvA1sQ1VZkAXXTHqVvevyXJ3kV2S3yg2E0WwvXWCJNEtiQg64kBWrVOkSr0Fpg51jyoSCefiKYLZbLJu8e94uqQRWVY2TyFjkCXo8Q77CgXu3VGJ50pS5yQXvP-FdAkAfc0l6DrOyS98jjoX_rEfW4dEwVoBOZWYHaY5NWZQyCwCktaNHPjOaTeSXc_Yss-mNDi_p1p3DbnmuYd5KtkH4Jf2UaJ3zMveEgeQ4E3iCUvG6debO_S3PAwJo0nNqwA-IenU4zBIXFPHmKAru2KbZopDp8xzxCU17utpsONS6Gg-t1JnKgjpcQA4I3To2B5Q
curl --fail -X POST http://localhost:8080/api/purchase-orders -H "Content-Type: application/json" -H "Authorization: Bearer %TOKEN%" -d @po_example.json

if %ERRORLEVEL% neq 0 (
    echo Error: Purchase order creat failed. Please check your token, API endpoint, and JSON file.
) else (
    echo Success: Purchase orders created successfully.
)